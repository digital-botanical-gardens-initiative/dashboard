<% if (typeof results !== 'undefined' && results.length > 0) { %>
    <!-- Display table of query results -->
    <table class="table table-striped table-responsive">
        <thead>
            <tr>
                <% headers.forEach(function(header) { %>
                    <th><%= header %></th>
                <% }); %>
            </tr>
        </thead>
        <tbody>
            <% results.forEach(function(node) { %>
                <tr>
                    <% headers.forEach(function(header) { %>
                        <% if (header === 'smiles') { %>
                            <!-- Wrapper for the JME applet -->
                            <td style="width: 240px; height: 180px;">
                                <div style="display: block; width: 100%; height: 100%;">
                                    <!-- JME applet for 3D structure -->
                                    <div code="JME.class" archive="JME.jar" width="100%" height="100%">
                                        <param name="options" value="depict,useopenchemlib">
                                        <param name="smiles" value="<%= node[header] %>">
                                    </div>
                                </div>
                            </td>
                        <% } else { %>
                            <td><%= node[header] %></td>
                        <% } %>
                    <% }); %>
                </tr>
            <% }); %>
        </tbody>
    </table>
<% } else { %>
    <!-- Display message when no results are available -->
    <p>No results to display</p>
<% } %>

</div>
